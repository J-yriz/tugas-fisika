{"ast":null,"code":"var _jsxFileName = \"C:\\\\DATA\\\\Non-Gaming\\\\Kuliah Udinus\\\\tugas-fisika\\\\src\\\\pages\\\\components\\\\CanvasBg.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CanvasBg = ({\n  canvasData\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const resistansiUdara = Number((Math.random() * (10 - 5) + 5).toFixed(3));\n  const animationRef = useRef(null); // Menyimpan ID animasi untuk dibatalkan\n  const [viewUser, setViewUser] = useState({\n    tengahMendatar: 0,\n    akhirMendatar: 0\n  });\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const context = canvas.getContext(\"2d\");\n    canvas.width = Math.pow(canvasData.kecepatan, 1);\n    const width = canvas.width;\n    const height = canvas.height;\n    const draw = (Vo, angle) => {\n      // Bersihkan animasi sebelumnya\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n      const Vox = Vo * Math.cos(angle);\n      const Voy = Vo * Math.sin(angle);\n      const g = 9.8;\n      const startTime = Date.now();\n      const update = () => {\n        const t = (Date.now() - startTime) / 1000; // Konversi waktu ke detik\n        const x = Vox * t;\n        const y = Voy * t - 0.5 * g * Math.pow(t, 2);\n        const gridSize = 25; // Ukuran grid dalam piksel\n\n        // Bersihkan canvas\n        context.clearRect(0, 0, width, height);\n\n        // Gambar grid\n        context.strokeStyle = \"#ddd\"; // Warna garis grid\n        context.lineWidth = 1;\n\n        // Garis vertikal\n        for (let x = 0; x <= width; x += gridSize) {\n          context.beginPath();\n          context.moveTo(x, 0);\n          context.lineTo(x, height);\n          context.stroke();\n        }\n\n        // Garis horizontal\n        for (let y = 0; y <= height; y += gridSize) {\n          context.beginPath();\n          context.moveTo(0, y);\n          context.lineTo(width, y);\n          context.stroke();\n        }\n\n        // Gambar bola\n        context.beginPath();\n        context.arc(x, y, 8, 0, Math.PI * 2, true);\n        context.fill();\n\n        // Berhenti jika bola mencapai tanah\n        if (y < 0) {\n          animationRef.current = null;\n          return;\n        }\n\n        // Lanjutkan animasi\n        animationRef.current = requestAnimationFrame(update);\n      };\n      update();\n    };\n\n    // Atur ulang transformasi dan warna\n    context.setTransform(1, 0, 0, -1, 0, height);\n    context.fillStyle = canvasData.warna;\n\n    // Mulai menggambar\n    draw(canvasData.kecepatan, Number(canvasData.sudut) * (Math.PI / 180));\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [canvasData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"place-self-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-end\",\n      children: [\"Resistensi Udara : \", resistansiUdara, \" m/s\\xB2\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      height: 500,\n      className: \"border-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"information space-y-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: viewUser.tengahMendatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: viewUser.akhirMendatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-slate-500 rounded h-1\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center p-1\",\n          children: \"3 Meter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_s(CanvasBg, \"oCfauBHsNiGunA/z726tEIfgVpY=\");\n_c = CanvasBg;\nexport default CanvasBg;\nvar _c;\n$RefreshReg$(_c, \"CanvasBg\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","CanvasBg","canvasData","_s","canvasRef","resistansiUdara","Number","Math","random","toFixed","animationRef","viewUser","setViewUser","tengahMendatar","akhirMendatar","canvas","current","context","getContext","width","pow","kecepatan","height","draw","Vo","angle","cancelAnimationFrame","Vox","cos","Voy","sin","g","startTime","Date","now","update","t","x","y","gridSize","clearRect","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","arc","PI","fill","requestAnimationFrame","setTransform","fillStyle","warna","sudut","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","_c","$RefreshReg$"],"sources":["C:/DATA/Non-Gaming/Kuliah Udinus/tugas-fisika/src/pages/components/CanvasBg.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport { ICanvasData } from \"../../utility/Type\";\r\nimport { menghitungAkhirMendatar } from \"../../utility/Function\";\r\n\r\ninterface IViewUser {\r\n  tengahMendatar: number;\r\n  akhirMendatar: number;\r\n}\r\n\r\nconst CanvasBg = ({ canvasData }: { canvasData: ICanvasData }) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const resistansiUdara = Number((Math.random() * (10 - 5) + 5).toFixed(3));\r\n  const animationRef = useRef<number | null>(null); // Menyimpan ID animasi untuk dibatalkan\r\n  const [viewUser, setViewUser] = useState<IViewUser>({ tengahMendatar: 0, akhirMendatar: 0 });\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n    const context = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\r\n\r\n    canvas.width = Math.pow(canvasData.kecepatan, 1);\r\n\r\n    const width = canvas.width;\r\n    const height = canvas.height;\r\n\r\n    const draw = (Vo: number, angle: number) => {\r\n      // Bersihkan animasi sebelumnya\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n\r\n      const Vox = Vo * Math.cos(angle);\r\n      const Voy = Vo * Math.sin(angle);\r\n      const g = 9.8;\r\n      const startTime = Date.now();\r\n\r\n      const update = () => {\r\n        const t = (Date.now() - startTime) / 1000; // Konversi waktu ke detik\r\n        const x = Vox * t;\r\n        const y = Voy * t - 0.5 * g * Math.pow(t, 2);\r\n        const gridSize = 25; // Ukuran grid dalam piksel\r\n\r\n        // Bersihkan canvas\r\n        context.clearRect(0, 0, width, height);\r\n\r\n        // Gambar grid\r\n        context.strokeStyle = \"#ddd\"; // Warna garis grid\r\n        context.lineWidth = 1;\r\n\r\n        // Garis vertikal\r\n        for (let x = 0; x <= width; x += gridSize) {\r\n          context.beginPath();\r\n          context.moveTo(x, 0);\r\n          context.lineTo(x, height);\r\n          context.stroke();\r\n        }\r\n\r\n        // Garis horizontal\r\n        for (let y = 0; y <= height; y += gridSize) {\r\n          context.beginPath();\r\n          context.moveTo(0, y);\r\n          context.lineTo(width, y);\r\n          context.stroke();\r\n        }\r\n\r\n        // Gambar bola\r\n        context.beginPath();\r\n        context.arc(x, y, 8, 0, Math.PI * 2, true);\r\n        context.fill();\r\n\r\n        // Berhenti jika bola mencapai tanah\r\n        if (y < 0) {\r\n          animationRef.current = null;\r\n          return;\r\n        }\r\n\r\n        // Lanjutkan animasi\r\n        animationRef.current = requestAnimationFrame(update);\r\n      };\r\n\r\n      update();\r\n    };\r\n\r\n    // Atur ulang transformasi dan warna\r\n    context.setTransform(1, 0, 0, -1, 0, height);\r\n    context.fillStyle = canvasData.warna;\r\n\r\n    // Mulai menggambar\r\n    draw(canvasData.kecepatan, Number(canvasData.sudut) * (Math.PI / 180));\r\n\r\n    return () => {\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, [canvasData]);\r\n\r\n  return (\r\n    <div className=\"place-self-center\">\r\n      <p className=\"text-end\">Resistensi Udara : {resistansiUdara} m/sÂ²</p>\r\n      <canvas ref={canvasRef} height={500} className=\"border-2\" />\r\n      <div className=\"information space-y-2\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <p>0</p>\r\n          <p>{viewUser.tengahMendatar}</p>\r\n          <p>{viewUser.akhirMendatar}</p>\r\n        </div>\r\n        <div className=\"w-full bg-slate-500 rounded h-1\">\r\n          <p className=\"text-center p-1\">3 Meter</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CanvasBg;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}